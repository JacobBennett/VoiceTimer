<!DOCTYPE html>
<html lang="en">
  <head>
    <title></title>
    <link href='https://fonts.googleapis.com/css?family=Lato:400,700,300' rel='stylesheet' type='text/css'>
    <style>
      body {
        font-family: "Lato";
      }

      h1 {}
    </style>
  </head>
  <body>
  <h1 id="timer">timer</h1>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/annyang/2.2.1/annyang.min.js "></script>
  <script src="js/AccurateTimer.min.js"></script>
    <script>
      var sounds = {
        recognize: new Audio('sounds/beep_double_up.wav'),
        beep: new Audio('sounds/beep_echo_lo.wav'),
        start: new Audio('sounds/beep_echo_hi.wav'),
        end: new Audio('sounds/beep_double_down.wav'),
      };

      var timer = new AccurateTimer(function tick() {
              console.log('tick');
              this.stop();
          }, 1000);

      var setTimer = function(seconds){
        sounds.recognize.play();

        startTimerDelay(seconds);

        $('#timer').text(seconds);
      }

      var startTimerDelay = function(seconds) {

        setTimeout(function() {
          sounds.start.play();
          timer.start();
        }, 1000);

        setTimeout(function(){
          sounds.end.play();
        }, (seconds*1000) + 1000);
      };

      var main = function() {


          var commands = {
            'set timer for :seconds seconds': setTimer
          };

          annyang.addCommands(commands);
          annyang.start();

        };

      $(document).ready(main);
    </script>
  </body>
</html>
